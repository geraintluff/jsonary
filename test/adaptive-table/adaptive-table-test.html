<!DOCTYPE html>
<html>

<!--/**
 * (c) 2013 OGI-IT.
 * User: ogi
 * Date: 17.07.13
 * Time: 11:25
 */-->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<link rel="stylesheet" href="../../renderers/plain.jsonary.css" type="text/css">
<link rel="stylesheet" href="../../plugins/jsonary.render.table.css" type="text/css">

<link rel="stylesheet" href="./ogi_jsonary.css" type="text/css">

<script src="../../jsonary.js"></script>
<!--<script src="modules/jsonary/renderers/basic.jsonary.js"></script>-->
<script src="../../renderers/plain.jsonary.js"></script>
<script src="../../plugins/jsonary.render.generate.js"></script>
<script src="../../plugins/jsonary.render.table.js"></script>
<script src="../../renderers/contributed/adaptive-table.js"></script>

<head>
    <title></title>
</head>
<body>

</div>
<div id="main">
    <div id="form"></div>
</div>
<script>

    Jsonary.addToCache("/v1/test1", {

        "$schema": "http://json-schema.org/draft-04/schema#",
        //"id": "/v1/test1#",

        "type": "object",  // OBJEKT 1 !!!! <------

        "title": "Sequenz",
        "name": "Sequenz",
        "required": ["_id", "name"],
        "properties": {
            "_id": {
                "type": "string",
                "title": "ID",
                "readOnly": true,
                "default": "auto",
                "displayOrder": 1
            },
            "name": {
                "type": "string",
                "title": "Name",
                "default": "default name",
                "displayOrder": 2
            },
            "pure-array": {
                "type": "array",
                "title": "pure array",
                "displayAsTable": true,
                "items": {
                    "type": "string"
                },
                "displayOrder": 3
            },

            "sequenceList": {
                "type": "array",
                "title": "Array 1",
                "displayAsTable": true,
                "displayOrder": 4,
                "items": {
                    "type": "object",  // OBJEKT 2 !!!
                    "required": ["iProbe", "role"],
                    "properties": {
                        "iProbe": {
                            "type": "string",
                            "title": "iProbe"
                        },
                        "role": {
                            "type": "string",
                            "title": "Role"
                        },
                        "result": {
                            "type": "array",
                            "displayAsTable": true,
                            "title": "Array 2",
                            "items": {
                                "type": "object", // OBJEKT 3 !!!! <-------
                                "required": ["col", "val"],
                                "properties": {
                                    "col": {
                                        "type": "string"
                                    },
                                    "val": {
                                        "type": "string"
                                    }
                                },
                                "additionalProperties": false
                            }
                        }
                    },
                    "additionalProperties": false
                }
            },
            "place": {
                "type": "string",
                "title": "Place",
                "displayOrder": 5
            }

        },
        "additionalProperties": false

    });

    var d = {};

    var jData = Jsonary.create(d, "/v1/test1");
    jData.addSchema("/v1/test1");
    jData.renderTo("form");

</script>
</body>
</html>